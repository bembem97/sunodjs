---
title: useRef
author: Vinz
date: May 9, 2022
api: useRef()
excerpt: Consectetur voluptate sunt magna irure commodo Lorem ad reprehenderit mollit tempor irure labore pariatur.
---

import Container from "components/shared/Container"
import Alert from "components/shared/Alert"
import TableOfContents from "components/page/TableOfContents"

import LayoutArticle from "components/LayoutArticle"
import {
  ClickCounter,
  Stopwatch,
  FocusTextInput,
  ScrollImageToView,
  PlayAndPauseVideo,
  ExposeRefToComponent,
} from "components/page/useref"

import { Link } from "components/LayoutArticle.js"

export const meta = {
  title: title,
  author: author,
  date: date,
  Toc: () => (
    <ol>
      <li>
        <a href="#referencing-a-value-with-a-ref">
          Referencing a value with a ref
        </a>
        <ol>
          <li>
            <a href="#click-counter">Click counter</a>
          </li>
          <li>
            <a href="#stopwatch">Stopwatch</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#manipulating-the-dom-with-a-ref">
          Manipulating the DOM with a ref
        </a>
        <ol>
          <li>
            <a href="#focusing-a-text-input">Focusing a text input</a>
          </li>
          <li>
            <a href="#scrolling-an-image-into-view">
              Scrolling an image into view
            </a>
          </li>
          <li>
            <a href="#playing-and-pausing-a-video">
              Playing and pausing a video
            </a>
          </li>
          <li>
            <a href="#exposing-a-ref-to-your-own-component">
              Exposing a ref to your own component
            </a>
          </li>
        </ol>
      </li>
      <li>
        <a href="#avoiding-recreating-the-ref-contents">
          Avoiding recreating the ref contents
        </a>
      </li>
    </ol>
  ),
}

Consectetur eu laborum excepteur dolor et nisi.

Exercitation quis consequat enim quis ea aute nostrud culpa nisi.

```js
const ref = useRef(initialValue)
```

## Referencing a value with a ref

Esse `fugiat` Lorem voluptate incididunt. Amet incididunt sint magna eu veniam esse nulla dolor Lorem.

```js
import { useRef } from "react"

function Stopwatch() {
  const intervalRef = useRef(0)
  // ...
}
```

Irure ex deserunt amet do laborum. Dolore do elit dolore laborum occaecat mollit.

Duis voluptate nostrud excepteur ut commodo non exercitation voluptate deserunt commodo veniam nulla. Culpa consectetur non elit ut anim officia non laboris do Lorem sit ut aliqua ipsum. Mollit consequat minim et fugiat nisi sint consequat quis reprehenderit non sit. Magna dolor eu ea non laborum consequat.

```js
function handleStartClick() {
  const intervalId = setInterval(() => {
    // ...
  }, 1000)
  intervalRef.current = intervalId
}
```

Cillum pariatur cillum in culpa ex id:

```js
function handleStopClick() {
  const intervalId = intervalRef.current
  clearInterval(intervalId)
}
```

Veniam est duis voluptate id culpa officia est.

<Container className="content-list" noContainer>

- Duis dolor eiusmod officia consectetur sint.

- Minim dolore culpa eu ea consectetur do Lorem aliquip ad magna.

- Excepteur elit elit irure ad laboris officia cupidatat amet mollit pariatur incididunt incididunt.

</Container>

Nulla qui commodo velit ex cillum labore. Ut mollit nisi aliquip anim `incididunt` eu tempor cupidatat. Pariatur non ut `consectetur` nisi officia esse sit. Laborum et anim magna amet tempor nisi eiusmod ut irure ea adipisicing.

### Click counter

<ClickCounter />

### Stopwatch

<Stopwatch />

<Alert severity="warning">

#### Elit duis proident ad commodo _exercitation_ est ad et.

Proident commodo minim culpa mollit. Duis cillum id ipsum ut do nulla dolore non nisi culpa consectetur nostrud.

<Container className="content-list">

- In esse enim dolore sunt magna ut esse consequat pariatur reprehenderit aliquip minim reprehenderit.

- Culpa qui magna ad velit aliqua deserunt et.

</Container>

Ut amet ullamco amet incididunt consectetur irure id adipisicing aliquip ex occaecat dolore veniam.

```js
function MyComponent() {
  // ...
  // ðŸš© Don't write a ref during rendering
  myRef.current = 123
  // ...
  // ðŸš© Don't read a ref during rendering
  return <h1>{myOtherRef.current}</h1>
}
```

Eiusmod culpa laboris pariatur enim nulla occaecat pariatur.

```js
function MyComponent() {
  // ...
  useEffect(() => {
    // âœ… You can read or write refs in effects
    myRef.current = 123
  })
  // ...
  function handleClick() {
    // âœ… You can read or write refs in event handlers
    doSomething(myOtherRef.current)
  }
  // ...
}
```

Ipsum voluptate occaecat sunt Lorem do.

<br />
Magna cupidatat duis excepteur velit minim tempor pariatur amet cupidatat dolore
ad.

Consectetur commodo non amet anim sint amet. Est reprehenderit quis cillum esse minim eiusmod.

</Alert>

---

## Manipulating the DOM with a ref

Culpa `tempor` aute in sint esse sit amet quis.

Id aliquip cupidatat amet tempor `commodo` laboris.

```js
import { useRef } from 'react';

function MyComponent() {
  const inputRef = useRef(null);
  // ...
```

Laborum labore commodo qui in ut ipsum deserunt tempor Lorem fugiat eu ad.

```js
// ...
return <input ref={inputRef} />
```

Officia reprehenderit amet sit laborum consectetur ullamco dolore officia reprehenderit excepteur sint velit ex.

```js
function handleClick() {
  inputRef.current.focus()
}
```

Adipisicing `aliqua` laboris occaecat qui `laborum` irure non sint nisi exercitation.

Incididunt laborum eiusmod qui non est eu aliqua.

### Focusing a text input

<FocusTextInput />

### Scrolling an image into view

<ScrollImageToView />

### Playing and pausing a video

<PlayAndPauseVideo />

### Exposing a ref to your own component

<ExposeRefToComponent />

---

## Avoiding recreating the ref contents

Nulla cillum enim eiusmod deserunt.

```js
function Video() {
  const playerRef = useRef(new VideoPlayer());
  // ...
```

Velit labore anim veniam officia reprehenderit consectetur velit. Ullamco labore in qui sint incididunt anim eu. Duis tempor ipsum pariatur exercitation adipisicing irure irure. Eu magna quis enim ex quis non ut laboris esse.

Minim eu fugiat in ipsum ut eu commodo.

```js
function Video() {
  const playerRef = useRef(null);
  if (playerRef.current === null) {
    playerRef.current = new VideoPlayer();
  }
  // ...
```

Officia incididunt eu dolore veniam quis Lorem. Anim sit sint eiusmod commodo et voluptate veniam dolore. Ad elit excepteur aliquip consequat labore non ullamco sint cillum excepteur in laboris.

<Alert>

#### How to avoid null checks when initializing useRef later

Excepteur dolor excepteur mollit et.

```js
function Video() {
  const playerRef = useRef(null);

  function getPlayer() {
    if (playerRef.current !== null) {
      return playerRef.current;
    }
    const player = new VideoPlayer();
    playerRef.current = player;
    return player;
  }

  // ...
```

Ad qui amet laborum fugiat aliquip culpa.

Eu sunt eiusmod ipsum ipsum do do aliqua minim laborum deserunt et voluptate ullamco ad.

</Alert>

export default ({ children }) => (
  <LayoutArticle meta={meta}>{children}</LayoutArticle>
)
