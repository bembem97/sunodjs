---
title: useRef
author: Vinz
date: April 19, 2022
api: useRef
---

import Container from "components/shared/Container"
import LayoutArticle from "components/LayoutArticle"
import {
  CounterClicks,
  StopWatch,
  FocusElement,
  FocusElement2,
} from "components/page/useref"
import { Link } from "components/LayoutArticle.js"

export const meta = {
  title: title,
  author: author,
  date: date,
  originalSrc: "https://dmitripavlutin.com/react-useref-guide/",
}

#### `useRef` do dolore duis nisi occaecat fugiat amet. In `reference` ut sit voluptate aliqua nulla do anim eiusmod.

Esse fugiat Lorem voluptate incididunt. Amet incididunt sint magna eu veniam esse nulla dolor Lorem.

{/* prettier-ignore */}
> ## Table of contents
>
> 1.  [Mutable values](#mutable-values)
>     1. [Use case: Counter clicks](#use-case-counter-clicks)
>     2. [Use case: Implenting Stopwatch](#implenting-stopwatch)
> 2.  [Accessing DOM elements](#accessing-dom-elements)
>     1. [Use case: focusing an input](#use-case-focusing-an-input)
> 3.  [Updating references restriction](#updating-references-restriction)
> 4.  [Summary](#summary)

## Mutable values

Excepteur occaecat enim enim cillum cupidatat ut ipsum ad enim ut quis deserunt enim aute. Duis nisi sint officia ullamco eu laboris pariatur aute sunt. Eiusmod laborum qui minim in ipsum eiusmod do tempor esse exercitation commodo.Excepteur non cillum et ut et qui cillum fugiat ea elit.

{/* end */}

```js
import { useRef } from "react"

function MyComponent() {
  const reference = useRef(initialValue)

  const someHandler = () => {
    // Access reference value:
    const value = reference.current
    // Update reference value:
    reference.current = newValue
  }
  // ...
}
```

### Use case: Counter clicks

Voluptate est et veniam ad velit irure. Nulla aliquip dolore velit eu commodo. Sint cupidatat ad culpa ipsum excepteur adipisicing adipisicing laboris officia est excepteur magna eu commodo. Officia id consectetur ex cupidatat mollit dolore.

Dolor et consectetur exercitation aliqua voluptate reprehenderit qui tempor aliqua exercitation aute.

```js
import { useRef } from "react"

function CounterClicks() {
  const countRef = useRef(0)

  const handle = () => {
    countRef.current++
    console.log(`Clicked ${countRef.current} times`)
  }

  console.log("I rendered!")

  return <button onClick={handle}>Click me</button>
}
```

<Link href="https://codesandbox.io/s/useref-counter-click-g2z9si?file=/src/App.js" />

#### Reprehenderit ut commodo reprehenderit eiusmod enim amet eu non.

```js
import { useState } from "react"

function CounterClicks() {
  const [count, setCount] = useState(0)

  const handle = () => {
    const updatedCount = count + 1

    console.log(`Clicked ${updatedCount} times`)
    setCount(updatedCount)
  }

  console.log("I rendered!")
  return <button onClick={handle}>Click me</button>
}
```

<Link href="https://codesandbox.io/s/usestate-counter-clicks-ix368c?file=/src/App.js" />

#### Ad do ex reprehenderit cupidatat.

Tempor voluptate tempor labore ullamco reprehenderit quis velit exercitation est ad sit aute. Exercitation dolore dolor reprehenderit laborum.

<CounterClicks />

Enim dolor incididunt cupidatat nostrud eiusmod est labore est.

Velit quis sit reprehenderit non. Officia sunt tempor ea velit est adipisicing. Consectetur fugiat ad irure labore ad ipsum aute ullamco ullamco et. Duis et aute veniam ex excepteur est sit quis ipsum irure incididunt sint.

### Implenting Stopwatch

Qui consequat nostrud aliquip eu cillum id voluptate voluptate pariatur.

Enim veniam pariatur veniam eiusmod qui cillum dolor.Labore id ipsum nisi eiusmod consectetur fugiat qui nulla irure occaecat tempor minim adipisicing.

```js
import { useRef, useState, useEffect } from "react"

function Stopwatch() {
  const timerIdRef = useRef(0)
  const [count, setCount] = useState(0)
  const startHandler = () => {
    if (timerIdRef.current) {
      return
    }
    timerIdRef.current = setInterval(() => setCount((c) => c + 1), 1000)
  }

  const stopHandler = () => {
    clearInterval(timerIdRef.current)
    timerIdRef.current = 0
  }

  useEffect(() => {
    return () => clearInterval(timerIdRef.current)
  }, [])

  return (
    <div>
      <div>Timer: {count}s</div>
      <div>
        <button onClick={startHandler}>Start</button>
        <button onClick={stopHandler}>Stop</button>
      </div>
    </div>
  )
}
```

<Link href="https://codesandbox.io/s/stopwatch-cm7zz?file=/src/App.js" />

<StopWatch />

Magna non irure velit minim nisi ea voluptate voluptate dolor esse quis elit exercitation dolor.

Sint sit exercitation velit voluptate irure laboris minim ut anim consectetur occaecat id fugiat. Ex ex laboris occaecat laborum ipsum consectetur magna do cillum occaecat commodo duis. Nostrud sunt irure laboris sunt anim excepteur nostrud non ad dolore laborum deserunt reprehenderit do.

Laborum culpa qui ullamco ut ex. Consectetur aliquip sit consequat anim nostrud. Ex velit dolor pariatur laborum laboris fugiat do ex cupidatat officia cillum cillum incididunt excepteur. Eiusmod ullamco amet nostrud voluptate velit. Nulla Lorem sint nulla dolore nisi in minim velit commodo.

Consequat quis adipisicing minim dolore irure est ea ullamco cupidatat enim aliqua deserunt duis in. Eiusmod nulla dolore anim deserunt. Aliquip nulla sint elit labore. Aute eu adipisicing duis mollit minim ea enim reprehenderit et culpa irure voluptate. Occaecat voluptate amet id duis qui aliquip sint reprehenderit anim dolor nostrud sit ut aliqua. Proident irure occaecat mollit exercitation sit minim incididunt cillum minim sunt pariatur. Et irure enim pariatur mollit nisi in pariatur sint aliqua pariatur adipisicing.

## Accessing DOM elements

Consequat irure dolore culpa consequat eu pariatur quis cupidatat aliquip.Eiusmod proident non laboris velit aliqua proident laborum excepteur dolore tempor eu ea.

```js
import { useRef, useEffect } from "react"

function AccessingDOMElement() {
  const elementRef = useRef()

  useEffect(() => {
    const divElement = elementRef.current
    console.log(divElement) // logs <div>I'm an element</div>
  }, [])

  return <div ref={elementRef}>I'm an element</div>
}
```

<Link href="https://codesandbox.io/s/useref-accessing-dom-element-g96si1?file=/src/App.js" />

Ad mollit aute quis occaecat veniam sunt minim ut et sint. Deserunt nisi irure officia ea. Tempor ex deserunt laborum eiusmod est incididunt consequat consectetur elit.

Ut fugiat ut pariatur consectetur proident duis ex labore duis cillum dolore do sit sunt. Laborum proident tempor ipsum esse dolore culpa elit consequat officia excepteur non dolor et. Ex Lorem ea et quis incididunt irure culpa excepteur ipsum qui. Amet eu voluptate labore exercitation pariatur aute duis veniam. Eiusmod amet dolore adipisicing esse qui. Qui laborum labore cupidatat amet voluptate minim consequat ipsum aliquip. Eiusmod ex voluptate culpa dolor qui ipsum dolore tempor ullamco aliqua cillum.

### Use case: focusing an input

```js
import { useRef, useEffect } from "react"

function InputFocus() {
  const inputRef = useRef()

  return (
    <>
      <input ref={inputRef} type="text" />
      <button onClick={() => inputRef.current.focus()}>Submit</button>
    </>
  )
}
```

<Link href="https://codesandbox.io/s/useref-focus-on-input-fgy2pq?file=/src/App.js" />

<FocusElement />

#### Culpa mollit voluptate exercitation culpa.

Nisi ex ad quis dolore culpa.

Adipisicing in fugiat duis laboris quis culpa dolore deserunt voluptate.

```js
import { useRef, useEffect } from "react"

function InputFocus() {
  const inputRef = useRef()

  useEffect(() => {
    // Logs `HTMLInputElement`
    console.log(inputRef.current)

    inputRef.current.focus()
  }, [])

  // Logs `undefined` during initial rendering
  console.log(inputRef.current)

  return (
    <>
      <h4>Open console log</h4>
      <input ref={inputRef} type="text" />
    </>
  )
}
```

<Link href="https://codesandbox.io/s/useref-focus-on-element-xg9d75?file=/src/App.js" />

<FocusElement2 />

Cillum eu laboris qui adipisicing ad nostrud commodo exercitation incididunt.

Voluptate aliqua amet non non. Nisi ex ea Lorem et laborum ex Lorem ea ea exercitation ipsum nostrud labore. Consectetur minim nulla sit non. Ut dolore adipisicing duis cillum dolor eu velit adipisicing cillum irure aliquip elit id. Excepteur qui aliqua dolore eu ut exercitation ipsum cillum consectetur consectetur nostrud ipsum. Elit ullamco laboris aliqua cupidatat aute ullamco eu. Incididunt minim eu nisi officia esse minim ullamco sunt esse.

## Updating references restriction

Voluptate pariatur anim aliquip ipsum non.
Aute amet velit ad duis non ut ipsum veniam laborum.

```js
import { useRef, useEffect } from "react"

function MyComponent({ prop }) {
  const myRef = useRef(0)

  useEffect(() => {
    myRef.current++ // Good!

    setTimeout(() => {
      myRef.current++ // Good!
    }, 1000)
  }, [])

  const handler = () => {
    myRef.current++ // Good!
  }

  myRef.current++ // Bad!

  if (prop) {
    myRef.current++ // Bad!
  }

  return <button onClick={handler}>My button</button>
}
```

Ex veniam pariatur sunt mollit laboris fugiat laboris deserunt occaecat amet. Ipsum do laboris fugiat tempor velit amet ad aliqua tempor. Sunt pariatur reprehenderit enim consequat enim anim id dolor aute ullamco nulla. Et ea irure dolore do nulla esse officia et aute deserunt esse incididunt aliquip anim.

Velit id ipsum consequat magna pariatur fugiat.

## Summary

Eu in voluptate duis voluptate consequat esse aliqua id Lorem aliqua mollit eu aliquip nisi.

Ipsum consectetur laborum aute laborum consectetur id ex consequat minim in cillum reprehenderit. Consectetur irure sit ullamco adipisicing do aliqua laboris dolor excepteur amet excepteur velit. Anim tempor enim et enim culpa dolore aute dolore eu minim consequat non. Labore ea reprehenderit eiusmod dolor fugiat ipsum irure proident et duis pariatur ipsum. Aliquip aute cillum cillum tempor dolore labore non consectetur. Nisi tempor elit deserunt veniam voluptate cupidatat magna duis duis.

Labore officia laborum enim elit cillum nisi voluptate et Lorem do ex dolor.

Enim ea veniam aliqua commodo reprehenderit ea elit ad voluptate. Quis reprehenderit minim culpa dolor veniam. Lorem magna duis voluptate nostrud.

Sit irure anim Lorem anim eu dolor velit fugiat anim. Et et veniam quis occaecat labore esse consectetur mollit qui adipisicing aliqua. Sint duis velit amet consectetur dolore dolor aute. Pariatur officia reprehenderit eiusmod tempor ea est aliquip id labore qui dolore occaecat elit exercitation.

Deserunt consectetur exercitation aliquip commodo officia commodo mollit non amet Lorem magna elit laboris deserunt. Excepteur eiusmod ex veniam mollit magna ut occaecat irure ullamco eu. Aute irure eiusmod aute culpa dolore est nisi. Exercitation labore eu aliquip incididunt esse cillum excepteur deserunt mollit. Veniam non exercitation adipisicing reprehenderit ad sunt proident aute duis dolore. Laborum labore excepteur est esse ullamco reprehenderit ex non ipsum sit minim. Eiusmod cillum duis nisi pariatur magna commodo amet deserunt qui consequat dolor tempor.

export default ({ children }) => (
  <LayoutArticle meta={meta}>{children}</LayoutArticle>
)
